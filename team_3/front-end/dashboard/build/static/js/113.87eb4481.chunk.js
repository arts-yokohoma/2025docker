"use strict";(self.webpackChunkadmin_client=self.webpackChunkadmin_client||[]).push([[113],{386:(e,t,a)=>{a.d(t,{Kh:()=>c,by:()=>s,hU:()=>i});var n=a(9722),o=a(6943),r=a(1759);const i=async e=>{const{access_token:t,token_type:a}=e;try{const e=await n.A.get("".concat(o.B5,"/user-admin"),{headers:{Authorization:"".concat(a," ").concat(t)}});return(0,r.y)(e,"\u30e6\u30fc\u30b6\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(i){(0,r.h)(i)}},s=async(e,t)=>{const{access_token:a,token_type:i}=e;try{const e=await n.A.post("".concat(o.B5,"/user-admin/create"),t,{headers:{Authorization:"".concat(i," ").concat(a)}});return(0,r.y)(e,"\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,r.h)(s)}},c=async(e,t)=>{const{access_token:a,token_type:i}=e;try{const e=await n.A.post("".concat(o.B5,"/user-admin/delete/").concat(t.id),t,{headers:{Authorization:"".concat(i," ").concat(a)}});return(0,r.y)(e,"\u30e6\u30fc\u30b6\u30fc\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,r.h)(s)}}},6990:(e,t,a)=>{a.d(t,{A:()=>w});var n=a(8587),o=a(8168),r=a(5043),i=a(8387),s=a(8610),c=a(7266),l=a(4535),d=a(1475),p=a(6431),m=a(1347),u=a(6236),h=a(5013),v=a(5849),g=a(2532);const y=(0,g.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const b=(0,g.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var A=a(909),x=a(2372);function f(e){return(0,x.Ay)("MuiMenuItem",e)}const C=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var _=a(579);const j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],k=(0,l.Ay)(u.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:a}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(C.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(C.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(C.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(C.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(y.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(y.inset)]:{marginLeft:52},["& .".concat(A.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(A.A.inset)]:{paddingLeft:36},["& .".concat(b.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(b.root," svg")]:{fontSize:"1.25rem"}}))}),w=r.forwardRef(function(e,t){const a=(0,p.b)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:d=!1,divider:u=!1,disableGutters:g=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:A,className:x}=a,C=(0,n.A)(a,j),w=r.useContext(m.A),O=r.useMemo(()=>({dense:d||w.dense||!1,disableGutters:g}),[w.dense,d,g]),S=r.useRef(null);(0,h.A)(()=>{c&&S.current&&S.current.focus()},[c]);const I=(0,o.A)({},a,{dense:O.dense,divider:u,disableGutters:g}),M=(e=>{const{disabled:t,dense:a,divider:n,disableGutters:r,selected:i,classes:c}=e,l={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",n&&"divider",i&&"selected"]},d=(0,s.A)(l,f,c);return(0,o.A)({},c,d)})(a),T=(0,v.A)(S,t);let B;return a.disabled||(B=void 0!==A?A:-1),(0,_.jsx)(m.A.Provider,{value:O,children:(0,_.jsx)(k,(0,o.A)({ref:T,role:b,tabIndex:B,component:l,focusVisibleClassName:(0,i.A)(M.focusVisible,y),className:(0,i.A)(M.root,x)},C,{ownerState:I,classes:M}))})})},9113:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var n=a(9379),o=a(5043),r=a(6446),i=a(7784),s=a(5865),c=a(4225),l=a(6990),d=a(1906),p=a(3216),m=a(6943),u=a(579);const h=e=>{let{formData:t,onChange:a,onSubmit:n,handleCancel:h}=e;const v=(0,p.Zp)(),[g,y]=(0,o.useState)({});return(0,u.jsxs)(r.A,{sx:{maxWidth:400,mx:"auto",mt:4},children:[(0,u.jsx)(i.A,{fullWidth:!0,name:"user_name",label:"\u30e6\u30fc\u30b6\u30fc\u540d",value:t.user_name,onChange:a,margin:"normal",error:!!g.user_name,helperText:g.user_name}),(0,u.jsx)(i.A,{fullWidth:!0,name:"name",label:"\u540d\u524d",value:t.name,onChange:a,margin:"normal",error:!!g.name,helperText:g.name}),(0,u.jsx)(i.A,{fullWidth:!0,name:"phone",label:"\u96fb\u8a71\u756a\u53f7",value:t.phone,onChange:a,margin:"normal",error:!!g.phone,helperText:g.phone}),(0,u.jsx)(i.A,{fullWidth:!0,name:"email",label:"\u30e1\u30fc\u30eb",value:t.email,onChange:a,margin:"normal",error:!!g.email,helperText:g.email}),(0,u.jsxs)(r.A,{marginY:2,children:[(0,u.jsx)(s.A,{children:"\u5f79\u5272:"}),(0,u.jsxs)(c.A,{fullWidth:!0,name:"role_type",value:t.role_type||"",onChange:e=>a({target:{name:"role_type",value:e.target.value}}),error:!!g.role_type,children:[(0,u.jsx)(l.A,{value:"",disabled:!0,children:"\u5f79\u5272\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),m.zF.map(e=>(0,u.jsx)(l.A,{value:e.value,children:e.label},e.value))]}),g.role_type&&(0,u.jsx)(s.A,{color:"error",variant:"body2",mt:.5,children:g.role_type})]}),(0,u.jsxs)(r.A,{sx:{display:"flex",gap:2,mt:3},children:[(0,u.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>{const e={};var a,o;t.user_name||(e.user_name="\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),t.name||(e.name="\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),t.role_type||(e.role_type="\u5f79\u5272\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"),t.phone?(a=t.phone,/^\d{10,15}$/.test(a)||(e.phone="\u6709\u52b9\u306a\u96fb\u8a71\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")):e.phone="\u96fb\u8a71\u756a\u53f7\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",t.email?(o=t.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)||(e.email="\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")):e.email="\u30e1\u30fc\u30eb\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",y(e),0===Object.keys(e).length&&n(t)},children:"\u4f5c\u6210"}),(0,u.jsx)(d.A,{variant:"outlined",color:"secondary",onClick:h||(()=>v("/user")),children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})};var v=a(8729),g=a(386),y=a(3336);const b=()=>{const e=(0,p.Zp)(),{callApiWithToken:t}=(0,v.A)(),[a,i]=(0,o.useState)(""),[c,l]=(0,o.useState)(!1),[d,m]=(0,o.useState)({user_name:"",name:"",role_type:"",phone:"",email:""});return(0,u.jsxs)(r.A,{children:[(0,u.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:'"\u2795 \u8ffd\u52a0"'}),(0,u.jsxs)(y.A,{sx:{p:3},children:[(0,u.jsx)(h,{formData:d,onChange:e=>{const{name:t,value:a}=e.target;m(e=>(0,n.A)((0,n.A)({},e),{},{[t]:a}))},onSubmit:async a=>{l(!0),i("");try{await t(g.by,a),e("/user")}catch(n){i((null===n||void 0===n?void 0:n.message)||"API\u547c\u3076\u3068\u304d\u767a\u751f")}finally{l(!1)}},handleCancel:()=>e("/menu"),isSubmitting:c}),a&&(0,u.jsx)("p",{style:{color:"red",marginTop:"1rem",textAlign:"center"},children:a})]})]})}}}]);
//# sourceMappingURL=113.87eb4481.chunk.js.map