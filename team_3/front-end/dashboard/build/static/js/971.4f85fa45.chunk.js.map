{"version":3,"file":"static/js/971.4f85fa45.chunk.js","mappings":"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","sources":["components/HolidayPage/HolidayForm.js","components/HolidayPage/HolidayAddPage.js","actions/CallApi/HolidayFetch.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Box, TextField, Button } from \"@mui/material\";\r\n\r\nconst HolidayForm = ({\r\n  formData,\r\n  onChange,\r\n  onSubmit,\r\n  handleCancel,\r\n  isSubmitting,\r\n  submitLabel,\r\n}) => {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleFormSubmit = () => {\r\n    const validationErrors = {};\r\n\r\n    if (!formData?.date?.trim()) {\r\n      validationErrors.date = \"日付必須\";\r\n    }\r\n\r\n    setErrors(validationErrors);\r\n\r\n    if (Object.keys(validationErrors).length === 0) {\r\n      onSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box component=\"form\" noValidate autoComplete=\"off\">\r\n      <TextField\r\n        fullWidth\r\n        label=\"日付\"\r\n        name=\"date\"\r\n        type=\"date\"\r\n        value={formData?.date ?? \"\"}\r\n        onChange={onChange}\r\n        margin=\"normal\"\r\n        error={!!errors.date}\r\n        helperText={errors.date || \" \"}\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n\r\n      <Box marginY={2} sx={{ display: \"flex\", gap: 1 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleFormSubmit}\r\n          disabled={isSubmitting}\r\n          sx={{ textTransform: \"none\" }}\r\n        >\r\n          {submitLabel}\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={handleCancel}\r\n          sx={{ textTransform: \"none\" }}\r\n        >\r\n          キャンセル\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HolidayForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Box, Typography, Paper } from \"@mui/material\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport HolidayForm from \"./HolidayForm\";\r\nimport { createHoliday, updateHoliday } from \"../../actions/CallApi/HolidayFetch\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\n\r\nconst HolidayAddOrEditPage = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { callApiWithToken } = useAuth();\r\n  const initialData = location.state?.initialData;\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        ...initialData,\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setIsSubmitting(true);\r\n    setErrorMessage(\"\");\r\n    try {\r\n      if (initialData?.id) {\r\n        await callApiWithToken(updateHoliday, initialData.id, formData);\r\n        navigate(\"/holiday\");\r\n      } else {\r\n        await callApiWithToken(createHoliday, formData);\r\n        navigate(\"/holiday\");\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage(error?.message || \"API呼ぶとき発生した\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => navigate(\"/holiday\");\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        {initialData ? \"✏️ 変更\" : \"➕ 追加\"}\r\n      </Typography>\r\n\r\n      <Paper sx={{ p: 3 }}>\r\n        <HolidayForm \r\n          formData={formData}\r\n          onChange={handleChange}\r\n          onSubmit={handleSubmit}\r\n          handleCancel={handleCancel}\r\n          isSubmitting={isSubmitting}\r\n          submitLabel={initialData ? \"変更\" : \"追加\"}\r\n        />\r\n        {errorMessage && (\r\n          <Typography color=\"error\" mt={2}>\r\n            {errorMessage}\r\n          </Typography>\r\n        )}\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HolidayAddOrEditPage;\r\n","import axios from \"axios\";\r\nimport { API_USER } from \"../../utilities/constant\";\r\nimport { handleApiResponse, handleApiError } from \"../../utilities/handlerApi\";\r\n\r\nexport const fetchHoliday = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_USER}/holiday`);\r\n    return handleApiResponse(response, \"メニューの取得に失敗しました。\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const createHoliday = async (auth, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.post(`${API_USER}/holiday/create`, data, {\r\n      headers: {\r\n        Authorization: `${token_type} ${access_token}`,\r\n      },\r\n    });\r\n    return handleApiResponse(response, \"メニューの作成に失敗しました。\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const updateHoliday = async (auth, menuId, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.put(\r\n      `${API_USER}/holiday/update/${menuId}`,\r\n      data,\r\n      {\r\n        headers: {\r\n          Authorization: `${token_type} ${access_token}`,\r\n        },\r\n      }\r\n    );\r\n    return handleApiResponse(response, \"メニューの更新に失敗しました。\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const deleteHoliday = async (auth, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.post(`${API_USER}/holiday/delete`, data, {\r\n      headers: {\r\n        Authorization: `${token_type} ${access_token}`,\r\n      },\r\n    });\r\n    return handleApiResponse(response, \"メニューの削除に失敗しました。\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n"],"names":["_ref","_formData$date2","formData","onChange","onSubmit","handleCancel","isSubmitting","submitLabel","errors","setErrors","useState","_jsxs","Box","component","noValidate","autoComplete","children","_jsx","TextField","fullWidth","label","name","type","value","date","margin","error","helperText","InputLabelProps","shrink","marginY","sx","display","gap","Button","variant","color","onClick","handleFormSubmit","_formData$date","validationErrors","trim","Object","keys","length","disabled","textTransform","HolidayAddOrEditPage","_location$state","navigate","useNavigate","location","useLocation","callApiWithToken","useAuth","initialData","state","setFormData","setIsSubmitting","errorMessage","setErrorMessage","useEffect","_objectSpread","Typography","gutterBottom","Paper","p","HolidayForm","e","target","prev","async","id","updateHoliday","createHoliday","message","mt","fetchHoliday","response","axios","get","concat","API_USER","handleApiResponse","err","handleApiError","auth","data","access_token","token_type","post","headers","Authorization","menuId","put","deleteHoliday"],"sourceRoot":""}