{"version":3,"file":"static/js/936.10383d78.chunk.js","mappings":"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","sources":["actions/CallApi/CategoryFetch.js","components/CategoryPage/CategorFillter.js","components/CategoryPage/CategoryTable.js","pages/admin/CategoryPage.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API_USER } from \"../../utilities/constant\";\r\nimport { handleApiResponse, handleApiError } from \"../../utilities/handlerApi\";\r\n\r\nexport const fetchCategories = async (auth) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.get(`${API_USER}/category`, {\r\n      headers: {\r\n        Authorization: `${token_type} ${access_token}`,\r\n      },\r\n    });\r\n    return handleApiResponse(response, \"ã‚«ãƒ†ã‚´ãƒªã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const deleteCategories = async (auth, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.post(`${API_USER}/category/delete`, data, {\r\n      headers: {\r\n        Authorization: `${token_type} ${access_token}`,\r\n      },\r\n    });\r\n    return handleApiResponse(\r\n      response,\r\n      \"ã‚ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½¿ç”¨ã™ã‚‹ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\"\r\n    );\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const createCategory = async (auth, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.post(`${API_USER}/category/create`, data, {\r\n      headers: {\r\n        Authorization: `${token_type} ${access_token}`,\r\n      },\r\n    });\r\n    return handleApiResponse(response, \"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (auth, menuId, data) => {\r\n  const { access_token, token_type } = auth;\r\n  try {\r\n    const response = await axios.put(\r\n      `${API_USER}/category/update/${menuId}`,\r\n      data,\r\n      {\r\n        headers: {\r\n          Authorization: `${token_type} ${access_token}`,\r\n        },\r\n      }\r\n    );\r\n    return handleApiResponse(response, \"ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\");\r\n  } catch (err) {\r\n    handleApiError(err);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Box, Button } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst CategoryFilter = ({\r\n  selectionModel = [],\r\n  onDeleteSelected,\r\n  onEdit,\r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\", gap: 2, mb: 2, alignItems: \"center\" }}>\r\n      <Box sx={{ flexGrow: 1 }} />\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"error\"\r\n        disabled={selectionModel.length === 0}\r\n        onClick={onDeleteSelected}\r\n        sx={{\r\n          textTransform: \"none\",\r\n          boxShadow: 2,\r\n          opacity: selectionModel.length === 0 ? 0.5 : 1,\r\n        }}\r\n      >\r\n        ğŸ—‘ï¸ å‰Šé™¤ï¼ˆ{selectionModel.length}ï¼‰\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"info\"\r\n        disabled={selectionModel.length !== 1}\r\n        onClick={() => onEdit(navigate)}\r\n        sx={{\r\n          textTransform: \"none\",\r\n          boxShadow: 2,\r\n          opacity: selectionModel.length !== 1 ? 0.5 : 1,\r\n        }}\r\n      >\r\n        âœï¸ å¤‰æ›´\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => navigate(\"/category/form\")}\r\n        sx={{ textTransform: \"none\", boxShadow: 2 }}\r\n      >\r\n        â• è¿½åŠ \r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryFilter;\r\n","import React, { useState } from \"react\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport { Box } from \"@mui/material\";\r\n\r\nconst CategoryTable = ({ categories, loading, selectionModel, setSelectionModel }) => {\r\n  const [pageSize, setPageSize] = useState(10);\r\n\r\n  const columns = [\r\n    { field: \"id\", headerName: \"ID\", width: 90 },\r\n    { field: \"category_name\", headerName: \"ã‚«ãƒ†ã‚´ãƒª\", width: 200 }\r\n  ];\r\n\r\n  return (\r\n    <Box sx={{ height: 650, width: \"100%\" }}>\r\n      <DataGrid\r\n        rows={categories || []}\r\n        columns={columns}\r\n        pageSize={pageSize}\r\n        onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\r\n        rowsPerPageOptions={[10, 50, 100]}\r\n        pagination\r\n        loading={loading}\r\n        getRowId={(row) => row.id}\r\n        checkboxSelection\r\n        disableSelectionOnClick\r\n        selectionModel={selectionModel}\r\n        onSelectionModelChange={(newSelection) => {\r\n          setSelectionModel(newSelection);\r\n        }}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n} from \"@mui/material\";\r\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\";\r\nimport WarningAmberIcon from \"@mui/icons-material/WarningAmber\";\r\nimport CategoryFilter from \"../../components/CategoryPage/CategorFillter\";\r\nimport CategoryTable from \"../../components/CategoryPage/CategoryTable\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport {\r\n  fetchCategories,\r\n  deleteCategories,\r\n} from \"../../actions/CallApi/CategoryFetch\";\r\n\r\nconst CategoryPage = () => {\r\n  const [category, setCategory] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectionModel, setSelectionModel] = useState([]);\r\n  const [errorModalOpen, setErrorModalOpen] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const { callApiWithToken } = useAuth();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        setCategory(await callApiWithToken(fetchCategories));\r\n      } catch (err) {\r\n        console.error(\"fetching error\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [callApiWithToken]);\r\n\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await callApiWithToken(deleteCategories, { ids: selectionModel });\r\n      setCategory((prev) =>\r\n        prev.filter((item) => !selectionModel.includes(item.id))\r\n      );\r\n      setSelectionModel([]);\r\n      setConfirmModalOpen(false);\r\n    } catch (err) {\r\n      setErrorMessage(err?.message || \"å‰Šé™¤ã‚¨ãƒ¼ãƒ©ãƒ¼\");\r\n      setErrorModalOpen(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteSelected = () => {\r\n    if (selectionModel.length === 0) return;\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleEdit = (navigate) => {\r\n    if (selectionModel.length === 1) {\r\n      const selectedItem = category.find((m) => m.id === selectionModel[0]);\r\n      navigate(\"form\", { state: { initialData: selectedItem } });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        ã‚«ãƒ†ã‚´ãƒªä¸€è¦§\r\n      </Typography>\r\n\r\n      <CategoryFilter\r\n        selectionModel={selectionModel}\r\n        onDeleteSelected={handleDeleteSelected}\r\n        onEdit={handleEdit}\r\n      />\r\n\r\n      <CategoryTable\r\n        categories={category}\r\n        loading={loading}\r\n        selectionModel={selectionModel}\r\n        setSelectionModel={setSelectionModel}\r\n      />\r\n\r\n      <Dialog\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        aria-labelledby=\"confirm-dialog-title\"\r\n      >\r\n        <DialogTitle\r\n          id=\"confirm-dialog-title\"\r\n          sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}\r\n        >\r\n          <WarningAmberIcon color=\"warning\" />\r\n          ç¢ºèª\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            {selectionModel.length} ä»¶ã®ã‚«ãƒ†ã‚´ãƒªã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmModalOpen(false)} color=\"inherit\">\r\n            ã‚­ãƒ£ãƒ³ã‚»ãƒ«\r\n          </Button>\r\n          <Button\r\n            onClick={handleConfirmDelete}\r\n            color=\"error\"\r\n            variant=\"contained\"\r\n            disabled={loading}\r\n          >\r\n            å‰Šé™¤\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog\r\n        open={errorModalOpen}\r\n        onClose={() => setErrorModalOpen(false)}\r\n        aria-labelledby=\"error-dialog-title\"\r\n      >\r\n        <DialogTitle\r\n          id=\"error-dialog-title\"\r\n          sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}\r\n        >\r\n          <ErrorOutlineIcon color=\"error\" />\r\n          å‰Šé™¤ã‚¨ãƒ©ãƒ¼\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Typography color=\"error\">{errorMessage}</Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => setErrorModalOpen(false)}\r\n            color=\"primary\"\r\n            autoFocus\r\n          >\r\n            ã‚ªãƒ¼ã‚±ãƒ¼\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CategoryPage;\r\n"],"names":["fetchCategories","async","access_token","token_type","auth","response","axios","get","concat","API_USER","headers","Authorization","handleApiResponse","err","handleApiError","deleteCategories","data","post","createCategory","updateCategory","menuId","put","_ref","selectionModel","onDeleteSelected","onEdit","navigate","useNavigate","_jsxs","Box","sx","display","gap","mb","alignItems","children","_jsx","flexGrow","Button","variant","color","disabled","length","onClick","textTransform","boxShadow","opacity","categories","loading","setSelectionModel","pageSize","setPageSize","useState","height","width","DataGrid","rows","columns","field","headerName","onPageSizeChange","newPageSize","rowsPerPageOptions","pagination","getRowId","row","id","checkboxSelection","disableSelectionOnClick","onSelectionModelChange","newSelection","CategoryPage","category","setCategory","setLoading","errorModalOpen","setErrorModalOpen","errorMessage","setErrorMessage","confirmModalOpen","setConfirmModalOpen","callApiWithToken","useAuth","useEffect","console","error","Typography","gutterBottom","CategoryFilter","handleDeleteSelected","state","initialData","find","m","CategoryTable","Dialog","open","onClose","DialogTitle","WarningAmberIcon","DialogContent","DialogActions","ids","prev","filter","item","includes","message","ErrorOutlineIcon","autoFocus"],"sourceRoot":""}