"use strict";(self.webpackChunkadmin_client=self.webpackChunkadmin_client||[]).push([[358],{867:(t,a,e)=>{e.d(a,{jE:()=>r,st:()=>l,ul:()=>s,zZ:()=>i});var n=e(9722),c=e(6943),o=e(1759);const r=async t=>{const{access_token:a,token_type:e}=t;try{const t=await n.A.get("".concat(c.B5,"/category"),{headers:{Authorization:"".concat(e," ").concat(a)}});return(0,o.y)(t,"\u30ab\u30c6\u30b4\u30ea\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,o.h)(r)}},s=async(t,a)=>{const{access_token:e,token_type:r}=t;try{const t=await n.A.post("".concat(c.B5,"/category/delete"),a,{headers:{Authorization:"".concat(r," ").concat(e)}});return(0,o.y)(t,"\u3042\u308b\u30e1\u30cb\u30e5\u30fc\u4f7f\u7528\u3059\u308b\u304b\u3089\u30ab\u30c6\u30b4\u30ea\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,o.h)(s)}},i=async(t,a)=>{const{access_token:e,token_type:r}=t;try{const t=await n.A.post("".concat(c.B5,"/category/create"),a,{headers:{Authorization:"".concat(r," ").concat(e)}});return(0,o.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,o.h)(s)}},l=async(t,a,e)=>{const{access_token:r,token_type:s}=t;try{const t=await n.A.put("".concat(c.B5,"/category/update/").concat(a),e,{headers:{Authorization:"".concat(s," ").concat(r)}});return(0,o.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(i){(0,o.h)(i)}}},1358:(t,a,e)=>{e.r(a),e.d(a,{default:()=>g});var n=e(9379),c=e(5043),o=e(6446),r=e(5865),s=e(3336),i=e(3216),l=e(7784),d=e(1906),h=e(579);const u=t=>{let{formData:a,onChange:e,onSubmit:n,handleCancel:r,isSubmitting:s,submitLabel:i}=t;const[u,y]=(0,c.useState)({});return(0,h.jsxs)(o.A,{component:"form",noValidate:!0,autoComplete:"off",children:[(0,h.jsx)(l.A,{fullWidth:!0,label:"T\xean m\xf3n",name:"category_name",value:a.category_name,onChange:e,margin:"normal",error:!!u.name,helperText:u.name||" "}),(0,h.jsxs)(o.A,{marginY:2,sx:{display:"flex",gap:1},children:[(0,h.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>{let t={};a.category_name.trim()||(t.name="\u30ab\u30c6\u30b4\u30ea\u540d\u3092\u7a7a\u767d\u306e\u307e\u307e\u306b\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093"),y(t),0===Object.keys(t).length&&n()},disabled:s,sx:{textTransform:"none"},children:i}),(0,h.jsx)(d.A,{variant:"contained",color:"secondary",onClick:r,sx:{textTransform:"none"},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})};var y=e(867),m=e(8729);const g=()=>{var t;const a=(0,i.Zp)(),e=(0,i.zy)(),{callApiWithToken:l}=(0,m.A)(),d=null===(t=e.state)||void 0===t?void 0:t.initialData,[g,A]=(0,c.useState)({category_name:""}),[p,x]=(0,c.useState)(!1),[v,f]=(0,c.useState)("");(0,c.useEffect)(()=>{if(d){var t;const a=d.category_id||(null===(t=d.category)||void 0===t?void 0:t.id)||"";A((0,n.A)((0,n.A)({},d),{},{category_id:a}))}},[d]);return(0,h.jsxs)(o.A,{children:[(0,h.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:d?"\u270f\ufe0f \u30ab\u30c6\u30b4\u30ea\u5909\u66f4":"\u2795 \u30ab\u30c6\u30b4\u30ea\u8ffd\u52a0"}),(0,h.jsxs)(s.A,{sx:{p:3},children:[(0,h.jsx)(u,{formData:g,onChange:t=>{const{name:a,value:e}=t.target;A(t=>(0,n.A)((0,n.A)({},t),{},{[a]:e}))},onSubmit:async()=>{x(!0),f("");try{let t;null!==d&&void 0!==d&&d.id?(t=await l(y.st,d.id,g),a("/category")):(t=await l(y.zZ,g),a("/category"))}catch(t){f((null===t||void 0===t?void 0:t.message)||"API\u547c\u3076\u3068\u304d\u767a\u751f\u3055\u308c\u308b\u3002")}finally{x(!1)}},handleCancel:()=>a("/category"),isSubmitting:p,submitLabel:d?"\u5909\u66f4":"\u8ffd\u52a0"}),v&&(0,h.jsx)(r.A,{color:"error",mt:2,children:v})]})]})}}}]);
//# sourceMappingURL=358.751e7886.chunk.js.map