"use strict";(self.webpackChunkadmin_client=self.webpackChunkadmin_client||[]).push([[971],{971:(t,a,n)=>{n.r(a),n.d(a,{default:()=>p});var e=n(9379),o=n(5043),c=n(6446),i=n(5865),s=n(3336),r=n(3216),l=n(7784),d=n(1906),h=n(579);const u=t=>{var a;let{formData:n,onChange:e,onSubmit:i,handleCancel:s,isSubmitting:r,submitLabel:u}=t;const[y,m]=(0,o.useState)({});return(0,h.jsxs)(c.A,{component:"form",noValidate:!0,autoComplete:"off",children:[(0,h.jsx)(l.A,{fullWidth:!0,label:"\u65e5\u4ed8",name:"date",type:"date",value:null!==(a=null===n||void 0===n?void 0:n.date)&&void 0!==a?a:"",onChange:e,margin:"normal",error:!!y.date,helperText:y.date||" ",InputLabelProps:{shrink:!0}}),(0,h.jsxs)(c.A,{marginY:2,sx:{display:"flex",gap:1},children:[(0,h.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>{var t;const a={};null!==n&&void 0!==n&&null!==(t=n.date)&&void 0!==t&&t.trim()||(a.date="\u65e5\u4ed8\u5fc5\u9808"),m(a),0===Object.keys(a).length&&i()},disabled:r,sx:{textTransform:"none"},children:u}),(0,h.jsx)(d.A,{variant:"contained",color:"secondary",onClick:s,sx:{textTransform:"none"},children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})};var y=n(8663),m=n(8729);const p=()=>{var t;const a=(0,r.Zp)(),n=(0,r.zy)(),{callApiWithToken:l}=(0,m.A)(),d=null===(t=n.state)||void 0===t?void 0:t.initialData,[p,A]=(0,o.useState)({name:""}),[v,x]=(0,o.useState)(!1),[f,k]=(0,o.useState)("");(0,o.useEffect)(()=>{d&&A((0,e.A)({},d))},[d]);return(0,h.jsxs)(c.A,{children:[(0,h.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:d?"\u270f\ufe0f \u5909\u66f4":"\u2795 \u8ffd\u52a0"}),(0,h.jsxs)(s.A,{sx:{p:3},children:[(0,h.jsx)(u,{formData:p,onChange:t=>{const{name:a,value:n}=t.target;A(t=>(0,e.A)((0,e.A)({},t),{},{[a]:n}))},onSubmit:async()=>{x(!0),k("");try{null!==d&&void 0!==d&&d.id?(await l(y.qK,d.id,p),a("/holiday")):(await l(y.tj,p),a("/holiday"))}catch(t){k((null===t||void 0===t?void 0:t.message)||"API\u547c\u3076\u3068\u304d\u767a\u751f\u3057\u305f")}finally{x(!1)}},handleCancel:()=>a("/holiday"),isSubmitting:v,submitLabel:d?"\u5909\u66f4":"\u8ffd\u52a0"}),f&&(0,h.jsx)(i.A,{color:"error",mt:2,children:f})]})]})}},8663:(t,a,n)=>{n.d(a,{LX:()=>i,g2:()=>l,qK:()=>r,tj:()=>s});var e=n(9722),o=n(6943),c=n(1759);const i=async()=>{try{const t=await e.A.get("".concat(o.B5,"/holiday"));return(0,c.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(t){(0,c.h)(t)}},s=async(t,a)=>{const{access_token:n,token_type:i}=t;try{const t=await e.A.post("".concat(o.B5,"/holiday/create"),a,{headers:{Authorization:"".concat(i," ").concat(n)}});return(0,c.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,c.h)(s)}},r=async(t,a,n)=>{const{access_token:i,token_type:s}=t;try{const t=await e.A.put("".concat(o.B5,"/holiday/update/").concat(a),n,{headers:{Authorization:"".concat(s," ").concat(i)}});return(0,c.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(r){(0,c.h)(r)}},l=async(t,a)=>{const{access_token:n,token_type:i}=t;try{const t=await e.A.post("".concat(o.B5,"/holiday/delete"),a,{headers:{Authorization:"".concat(i," ").concat(n)}});return(0,c.y)(t,"\u30e1\u30cb\u30e5\u30fc\u306e\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(s){(0,c.h)(s)}}}}]);
//# sourceMappingURL=971.4f85fa45.chunk.js.map