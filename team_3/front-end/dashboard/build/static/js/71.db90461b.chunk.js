"use strict";(self.webpackChunkadmin_client=self.webpackChunkadmin_client||[]).push([[71],{6323:(t,e,n)=>{n.d(e,{Gb:()=>c,Kv:()=>i,nr:()=>o});var a=n(9722),r=n(6943),s=n(1759);const c=async t=>{const{access_token:e,token_type:n}=t;try{const t=await a.A.get("".concat(r.B5,"/order"),{headers:{Authorization:"".concat(n," ").concat(e)}});return(0,s.y)(t,"\u30aa\u30fc\u30c0\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(c){(0,s.h)(c)}},o=async(t,e)=>{const{access_token:n,token_type:c}=t;try{const t=await a.A.get("".concat(r.B5,"/order/revenue?year=").concat(e),{headers:{Authorization:"".concat(c," ").concat(n)}});return(0,s.y)(t,"\u30aa\u30fc\u30c0\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(o){(0,s.h)(o)}},i=async(t,e,n)=>{const{access_token:c,token_type:o}=t;try{const t=await a.A.post("".concat(r.B5,"/order/update/").concat(e),n,{headers:{Authorization:"".concat(o," ").concat(c)}});return(0,s.y)(t,"\u30aa\u30fc\u30c0\u30fc\u306e\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002")}catch(i){(0,s.h)(i)}}},7071:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var a=n(5043),r=n(6446),s=n(5865),c=n(8903),o=n(3336),i=n(3193),d=n(4225),l=n(6990),h=n(1637),u=n(1488),y=n(1669),x=n(7188),A=n(2185),j=n(6026),m=n(1983),p=n(8729),v=n(6323),g=n(579);const f=()=>{const{callApiWithToken:t}=(0,p.A)(),e=(new Date).getFullYear(),[n,f]=(0,a.useState)(e),[k,w]=(0,a.useState)([]),[b,_]=(0,a.useState)(!1),[B,z]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{_(!0),z("");const e=await t(v.nr,n),a="function"===typeof(null===e||void 0===e?void 0:e.json)?await e.json():e,r=Array.isArray(a)?a:null===a||void 0===a?void 0:a.data;if(!Array.isArray(r))throw new Error("Invalid revenue response");const s=[...r].sort((t,e)=>Number(t.month)-Number(e.month));w(s)}catch(e){z((null===e||void 0===e?void 0:e.message)||"Failed to load revenue"),w([])}finally{_(!1)}})()},[t,n]);const C=Array.from({length:5},(t,n)=>e-n);return(0,g.jsxs)(r.A,{sx:{padding:"2rem"},children:[(0,g.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:"\u3088\u3053\u305d\u3046"}),(0,g.jsx)(s.A,{variant:"body1",gutterBottom:!0,children:"\u79c1\u305f\u3061\u306f\u30c8\u30ea\u30d7\u30eb\u30a4\u30f3\u30d1\u30af\u30c8"}),(0,g.jsx)(c.Ay,{container:!0,spacing:3,sx:{marginTop:"1rem"},children:(0,g.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,g.jsxs)(o.A,{sx:{p:2},children:[(0,g.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[(0,g.jsx)(s.A,{variant:"h6",children:"\u58f2\u4e0a\u6bce\u6708"}),(0,g.jsx)(i.A,{size:"small",children:(0,g.jsx)(d.A,{value:n,onChange:t=>f(t.target.value),children:C.map(t=>(0,g.jsx)(l.A,{value:t,children:t},t))})})]}),(0,g.jsx)(s.A,{variant:"body2",gutterBottom:!0,children:"\u5358\u4fa1\uff1a\u5186"}),b?(0,g.jsx)(r.A,{sx:{height:250,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(h.A,{})}):B?(0,g.jsx)(s.A,{color:"error",children:B}):(0,g.jsx)(y.u,{width:"100%",height:250,children:(0,g.jsxs)(m.b,{data:k,children:[(0,g.jsx)(A.W,{dataKey:"month"}),(0,g.jsx)(j.h,{}),(0,g.jsx)(u.m,{}),(0,g.jsx)(x.N,{type:"monotone",dataKey:"priceTotal",stroke:"#8884d8"})]})})]})})})]})}}}]);
//# sourceMappingURL=71.db90461b.chunk.js.map